const app={copiedCSS:"",copiedJS:"",idList:[],recommendations:[],idLookupTable:[],iframeId:"",init:()=>{const e=clickfunnels_classic_page_tree.sections(document.querySelector(".containerWrapper")),t=clickfunnels2_pagetree(e);t.version=93;t.popup.children=t.popup.children.filter((function(e){return void 0!==e})),t.content.children=t.content.children.filter((function(e){return void 0!==e}));const n={data:{css:app.copiedCSS,page_tree:JSON.stringify(t),google_font_families:""},recommendations:app.recommendations,classic_pagetree:e,v2_pagetree:t};window.parent.postMessage(JSON.parse(JSON.stringify(n)),"*")},htmlToDom:e=>{const t=document.createElement("div");return t.innerHTML=e,t},makeId:()=>{let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));const n=`6Z-${e}-0`;if(!app.idLookupTable.includes(n))return n;app.makeId()},checkVisibility:e=>{const t=e.getAttribute("data-hide-on");return"desktop"===t?"desktop":"mobile"===t?"mobile":t||"none"!==e.style.display?null:"none"},columnSize:e=>{let t="";return e.classList.forEach((e=>{e.includes("col-md-")&&(t=e.replace("col-md-",""))})),t},convertBackgroundPositionClassName:(e,t)=>{const n={bgCover:"bgCoverV2",bgCover100:"bgW100",bgNoRepeat:"bgNoRepeat",bgRepeat:"bgRepeat",bgRepeatX:"bgRepeatX",bgRepeatXTop:"bgRepeatX",bgRepeatXBottom:"bgRepeatX",bgRepeatY:"bgRepeatY"},r=Array.from(e);for(let e in n)if(r.includes(e))return void t(n[e])},checkImagesLoaded:(e,t)=>{const n=document.querySelector(e).getElementsByTagName("img");let r=n.length;for(let e=0;e<n.length;e++)n[e].complete?r--:n[e].addEventListener("load",(function(){r--,0===r&&t()}));0===r&&t()},headlinePageTree:(e,t)=>{let n=[];return e?(e.forEach(((e,r)=>{const o=app.makeId(),a="a"+(r+1).toString(36);let i={...e,id:o,version:0,parentId:t,fractionalIndex:a};"a"===e.type&&(i.attrs||(i.attrs={}),i.attrs.className="elTypographyLink",i.attrs.class&&delete i.attrs.class),e.children&&(i.children=app.headlinePageTree(e.children,o)),n.push(i)})),n):n},parseHtml:(e,t)=>{const n=(new DOMParser).parseFromString(e,"text/html");return Array.from(n.body.childNodes).flatMap((function e(n){if(n.nodeType===Node.TEXT_NODE&&!/\S/.test(n.nodeValue))return null;let r=[];switch(n.nodeType){case Node.TEXT_NODE:let o=n.nodeValue.split("\n");o.forEach(((e,t)=>{""!==e&&(r.push({type:"text",innerText:e}),r.push({type:"text",innerText:" "})),t<o.length-1&&r.push({type:"div",innerText:" "})}));break;case Node.ELEMENT_NODE:let a={type:n.tagName.toLowerCase()};if(n.hasAttributes()&&(a.attrs=Array.from(n.attributes).reduce(((e,t)=>(e[t.name]=t.value,e)),{})),"a"===a.type){const e=Array.from(n.parentNode.childNodes).indexOf(n),r=document.querySelector(`#${t} a:nth-child(${e+1})`),o=window.getComputedStyle(r);a.attrs.style={color:o.color}}n.hasChildNodes()&&(a.children=Array.from(n.childNodes).flatMap(e).filter((e=>null!==e))),"div"===a.type&&a.children&&1===a.children.length&&"br"===a.children[0].type?r.push({type:"div",children:[{type:"br"}]}):"div"===a.type&&a.children&&a.children.length>0?r=r.concat(a.children):r.push(a)}return r})).filter((e=>null!==e))}};