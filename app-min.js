const app={copiedCSS:"",copiedJS:"",idList:[],recommendations:[],idLookupTable:[],iframeId:"",init:()=>{const e=clickfunnels_classic_page_tree.sections(document.querySelector(".containerWrapper")),t=clickfunnels2_pagetree(e);t.version=93;t.popup.children=t.popup.children.filter((function(e){return void 0!==e})),t.content.children=t.content.children.filter((function(e){return void 0!==e}));const n={data:{css:app.copiedCSS,page_tree:JSON.stringify(t),google_font_families:""},recommendations:app.recommendations,classic_pagetree:e,v2_pagetree:t};window.parent.postMessage(JSON.parse(JSON.stringify(n)),"*")},htmlToDom:e=>{const t=document.createElement("div");return t.innerHTML=e,t},makeId:()=>{let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));const n=`6Z-${e}-0`;if(!app.idLookupTable.includes(n))return n;app.makeId()},checkVisibility:e=>{const t=e.getAttribute("data-hide-on");return"desktop"===t?"desktop":"mobile"===t?"mobile":t||"none"!==e.style.display?null:"none"},columnSize:e=>{let t="";return e.classList.forEach((e=>{e.includes("col-md-")&&(t=e.replace("col-md-",""))})),t},convertBackgroundPositionClassName:(e,t)=>{const n={bgCover:"bgCoverV2",bgCover100:"bgW100",bgNoRepeat:"bgNoRepeat",bgRepeat:"bgRepeat",bgRepeatX:"bgRepeatX",bgRepeatXTop:"bgRepeatX",bgRepeatXBottom:"bgRepeatX",bgRepeatY:"bgRepeatY"},r=Array.from(e);for(let e in n)if(r.includes(e))return void t(n[e])},checkImagesLoaded:(e,t)=>{const n=document.querySelector(e).getElementsByTagName("img");let r=n.length;for(let e=0;e<n.length;e++)n[e].complete?r--:n[e].addEventListener("load",(function(){r--,0===r&&t()}));0===r&&t()},headlinePageTree:(e,t)=>{let n=[];return e?(e.forEach(((e,r)=>{const o=app.makeId(),a="a"+(r+1).toString(36);let l={...e,id:o,version:0,parentId:t,fractionalIndex:a};"a"===e.type&&(l.attrs||(l.attrs={}),l.attrs.className="elTypographyLink",l.attrs.class&&delete l.attrs.class),e.children&&(l.children=app.headlinePageTree(e.children,o)),n.push(l)})),n):n},parseHtml:(e,t,n=null)=>{const r=(new DOMParser).parseFromString(e,"text/html");return Array.from(r.body.childNodes).flatMap((function e(r){if(r.nodeType===Node.TEXT_NODE&&!/\S/.test(r.nodeValue))return null;let o=[];switch(r.nodeType){case Node.TEXT_NODE:let a=r.nodeValue.split("\n");a.forEach(((e,t)=>{""!==e&&(o.push({type:"text",innerText:e}),o.push({type:"text",innerText:" "})),t<a.length-1&&o.push({type:"div",innerText:" "})}));break;case Node.ELEMENT_NODE:let l={type:r.tagName.toLowerCase()};if(r.hasAttributes()&&(l.attrs=Array.from(r.attributes).reduce(((e,t)=>(e[t.name]=t.value,e)),{})),"a"===l.type){const e=Array.from(r.parentNode.childNodes).indexOf(r),o=document.querySelector(`#${t} a:nth-child(${e+1})`);let a="#000000";if(o){a=window.getComputedStyle(o).color}else if(null!==n){const e=document.querySelector(`#${r.id}`);if(e){a=window.getComputedStyle(e).color}}l.attrs.style={color:a}}r.hasChildNodes()&&(l.children=Array.from(r.childNodes).flatMap(e).filter((e=>null!==e))),"div"===l.type&&l.children&&1===l.children.length&&"br"===l.children[0].type?o.push({type:"div",children:[{type:"br"}]}):"div"===l.type&&l.children&&l.children.length>0?o=o.concat(l.children):o.push(l)}return o})).filter((e=>null!==e))}};